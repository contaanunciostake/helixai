=======================================================
  COMANDOS R√ÅPIDOS - Webhook ElevenLabs + Claude API
=======================================================

üìã INSTALA√á√ÉO
-------------
pip install anthropic


‚öôÔ∏è CONFIGURAR .ENV
------------------
Adicione estas linhas ao arquivo .env:

ANTHROPIC_API_KEY=sk-ant-api03-xxxxxxxxxxxxxxxxxxxxxxxx
ELEVENLABS_API_KEY=xi_xxxxxxxxxxxxxxxxxxxxxxxx


üöÄ INICIAR SERVIDOR
-------------------
python run.py


üß™ TESTAR WEBHOOK (WINDOWS)
---------------------------
# Teste 1: Verificar se est√° online
curl http://localhost:5000/api/webhook/elevenlabs

# Teste 2: Simular conversa iniciada
curl -X POST http://localhost:5000/api/webhook/elevenlabs -H "Content-Type: application/json" -d "{\"event_type\": \"conversation.started\", \"conversation_id\": \"test_123\"}"

# Teste 3: Simular mensagem do usu√°rio
curl -X POST http://localhost:5000/api/webhook/elevenlabs -H "Content-Type: application/json" -d "{\"event_type\": \"conversation.transcript\", \"conversation_id\": \"test_123\", \"transcript\": \"Quero comprar um carro SUV\"}"

# Teste 4: Simular fim da conversa
curl -X POST http://localhost:5000/api/webhook/elevenlabs -H "Content-Type: application/json" -d "{\"event_type\": \"conversation.ended\", \"conversation_id\": \"test_123\", \"duration\": 120}"


üîô RESTAURAR VERS√ÉO ORIGINAL
-----------------------------
cp commits\commit_20251014_225159\webhook.py.backup backend\routes\webhook.py


üìä VERIFICAR LOGS
-----------------
# Durante execu√ß√£o do servidor, os logs aparecem no terminal
# Procure por:
# - [CLAUDE-API] para ver processamento Claude
# - [ELEVENLABS-API] para ver envio de respostas
# - [HIST√ìRICO] para ver gest√£o de contexto
# - [ELEVENLABS-WEBHOOK] para eventos recebidos


üîç VERIFICAR INSTALA√á√ÉO
-----------------------
# Verificar se anthropic est√° instalado
pip show anthropic

# Verificar sintaxe Python
python -m py_compile backend\routes\webhook.py


üìÅ ARQUIVOS DO COMMIT
---------------------
commits\commit_20251014_225159\
‚îú‚îÄ‚îÄ README.md                      # Vis√£o geral
‚îú‚îÄ‚îÄ CHANGELOG.md                   # Detalhes t√©cnicos completos
‚îú‚îÄ‚îÄ DIFF_SUMMARY.md               # Diff visual antes/depois
‚îú‚îÄ‚îÄ GUIA_TESTE.md                 # Guia completo de testes
‚îú‚îÄ‚îÄ RESUMO_FINAL.md               # Resumo executivo
‚îú‚îÄ‚îÄ COMANDOS_RAPIDOS.txt          # Este arquivo
‚îú‚îÄ‚îÄ requirements_adicional.txt     # Depend√™ncias
‚îú‚îÄ‚îÄ webhook.py.backup             # Vers√£o original
‚îî‚îÄ‚îÄ webhook.py.new                # Nova vers√£o


‚ö° TROUBLESHOOTING R√ÅPIDO
-------------------------

Erro: "ModuleNotFoundError: No module named 'anthropic'"
Solu√ß√£o: pip install anthropic

Erro: "ANTHROPIC_API_KEY n√£o configurada"
Solu√ß√£o: Adicionar no .env: ANTHROPIC_API_KEY=sk-ant-...

Erro: "ELEVENLABS_API_KEY n√£o configurada"
Nota: N√ÉO impede funcionamento do Claude! Apenas n√£o envia resposta.

Webhook n√£o responde:
1. Verificar se servidor est√° rodando (python run.py)
2. Verificar porta: http://localhost:5000
3. Ver logs no terminal para erros


üéØ CONFIGURAR NO ELEVENLABS
----------------------------
1. Acesse: https://elevenlabs.io/app/conversational-ai
2. Configure webhook:
   - URL: https://seu-dominio.com/api/webhook/elevenlabs
   - Secret: wsec_af7d8eef98f77d60679a19ad289a53a873a31a0f19ae33ed3173fb3e21234e82
3. Ative eventos:
   - conversation.started
   - conversation.transcript
   - conversation.ended


üìû SUPORTE
----------
Ver documenta√ß√£o completa em:
- GUIA_TESTE.md (testes passo a passo)
- CHANGELOG.md (detalhes t√©cnicos)
- DIFF_SUMMARY.md (visualiza√ß√£o das mudan√ßas)


=======================================================
Data: 2025-10-14
Commit: commit_20251014_225159
Status: ‚úÖ PRONTO PARA USO
=======================================================
